<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>按钮</title>
	<script src="js/jquery-1.11.1.js"></script>
	<style>
		.but{width: 100px;height: 50px;margin:100px 600px;cursor:pointer;border:2px solid gray;text-align: center;line-height: 40px;position: relative;overflow: hidden;background:transparent;}
		.bu{background:rgba(0,0,0,0.2);position: absolute;top:0;left:0;transform:translate(-50%,-50%);border-radius: 50%}
	</style>
</head>
<body>
	<div class="but">button</div>

	<script>
		$(function(){
			$('.but').on('mouseenter',function(ev){
				// console.log(1)
				var ev=ev||window.event;
				$(this).append('<div class="bu">');
				$('.bu').css({'left':ev.clientX-$(this).offset().left,
					'top':ev.clientY-$(this).offset().top})
				$('.bu').animate({
					width:Math.sqrt(Math.pow($(this).width(),2)+Math.pow($(this).height(),2))*2,
					height:Math.sqrt(Math.pow($(this).width(),2)+Math.pow($(this).height(),2))*2},800)
			});

			$('.but').on('mouseleave',function(ev){
				var ev=ev||window.event;
				$('.bu').css({'left':ev.clientX-$(this).offset().left,
					'top':ev.clientY-$(this).offset().top})
				$('.bu').animate({width:'0px',height:'0px'},500);
				setTimeout(function(){
					$('.bu').remove();
				},520)
			})



			/*$('.but').on('mouseleave',function(ev){
				var ev=ev||window.event;
				$('.bu').css({'left':ev.clientX-$(this).offset().left,
					'top':ev.clientY-$(this).offset().top});
				$('.bu').animate({width:'0px',height:'0px'},500)
				$('.bu').remove();
				// console.log(2)
			},520)*/
		})
	</script>
</body>
</html>